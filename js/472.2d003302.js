"use strict";(self["webpackChunkjanereka_ryru"]=self["webpackChunkjanereka_ryru"]||[]).push([[472],{6472:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var o=s(3673),l=s(2323);const a={class:"text-h6 text-center"},n={class:"text-center"},i={class:"q-mt-md col-xs-10 col-sm-7"},r={for:"name",class:"text-bold inline-block"},u={class:"q-mt-sm col-xs-10 col-sm-7"},d={for:"password",class:"text-bold inline-block"},m={class:"column q-mt-sm col-xs-10 col-sm-7 q-mt-lg items-center"};function c(e,t,s,c,p,g){const h=(0,o.up)("q-input"),f=(0,o.up)("q-btn"),w=(0,o.up)("q-form"),b=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(b,{class:"q-py-xl q-px-md"},{default:(0,o.w5)((()=>[(0,o._)("div",a,[(0,o._)("strong",null,(0,l.zw)(e.$t("login.pageTextTitle")),1)]),(0,o._)("div",n,(0,l.zw)(e.$t("login.pageTextSubtitle")),1),(0,o.Wm)(w,{class:"q-pt-lg q-mx-auto",style:{"max-width":"400px"},onSubmit:g.login},{default:(0,o.w5)((()=>[(0,o._)("div",i,[(0,o._)("label",r,(0,l.zw)(e.$t("login.formFieldLabelUsername")),1),(0,o.Wm)(h,{id:"name",modelValue:p.name,"onUpdate:modelValue":t[0]||(t[0]=e=>p.name=e),dense:"",filled:"",type:"text",rules:[t=>!!t||e.$t("login.formValidationFieldRequired")]},null,8,["modelValue","rules"])]),(0,o._)("div",u,[(0,o._)("label",d,(0,l.zw)(e.$t("login.formFieldLabelPassword")),1),(0,o.Wm)(h,{id:"password",modelValue:p.password,"onUpdate:modelValue":t[1]||(t[1]=e=>p.password=e),"input-class":"text-primary",dense:"",filled:"",type:"password",autocomplete:"off",autocorrect:"off",autocapitalize:"off",onpaste:"return false",oncopy:"return false",oncut:"return false",rules:[t=>!!t||e.$t("login.formValidationFieldRequired")]},null,8,["modelValue","rules"])]),(0,o._)("div",m,[(0,o.Wm)(f,{color:"primary",type:"submit",push:"","no-caps":"",label:e.$t("login.buttonLabelEnter"),size:"lg",loading:p.loading},null,8,["label","loading"])])])),_:1},8,["onSubmit"])])),_:1})}var p=s(4543);const g={name:"Login",data(){return{loading:!1,name:"",password:"",session:p.z.getSessionManager()}},methods:{async login(){this.loading=!0;const e=await this.session.login(this.name,this.password);e.success?(this.loading=!1,this.redirect()):(this.loading=!1,this.$q.notify({type:"negative",message:this.$t("login.alertLoginFailed"),actions:[{icon:"close",color:"white"}]}))},redirect(){const e=this.$route.query.goTo;"/admin"===e?this.session.isAdmin()?this.$router.push({path:e}):(this.$q.notify({type:"negative",message:this.$t("login.alertHasNoPerms"),actions:[{icon:"close",color:"white"}]}),this.$router.push({name:"home"})):e?this.$router.push({path:e}):this.$router.push({name:"usuario"})}}};var h=s(4260),f=s(4379),w=s(8689),b=s(4689),q=s(8240),x=s(3282),y=s(7518),$=s.n(y);const _=(0,h.Z)(g,[["render",c]]),v=_;$()(g,"components",{QPage:f.Z,QForm:w.Z,QInput:b.Z,QBtn:q.Z,QSpinnerHourglass:x.Z})}}]);