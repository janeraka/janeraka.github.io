"use strict";(self["webpackChunkjanereka_ryru"]=self["webpackChunkjanereka_ryru"]||[]).push([[927],{927:(e,t,s)=>{s.r(t),s.d(t,{default:()=>z});var l=s(3673),o=s(2323);const a={class:"q-pa-md"},i={class:"text-h1 text-weight-bolder text-primary text-center q-mt-sm q-mb-md"},n={class:"text-h6 text-center"},r={class:"text-center"},u={class:"q-mt-md col-xs-10 col-sm-7"},d={for:"name",class:"text-bold inline-block"},m={class:"q-mt-sm col-xs-10 col-sm-7"},c={for:"password",class:"text-bold inline-block"},p={class:"column q-mt-sm col-xs-10 col-sm-7 q-mt-lg items-center"};function g(e,t,s,g,h,f){const w=(0,l.up)("q-input"),b=(0,l.up)("q-btn"),q=(0,l.up)("q-form"),x=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(x,{class:"q-py-sm q-px-md"},{default:(0,l.w5)((()=>[(0,l._)("div",a,[(0,l._)("h1",i,(0,o.zw)(e.$t("login.pageTitle")),1)]),(0,l._)("div",n,[(0,l._)("strong",null,(0,o.zw)(e.$t("login.pageTextTitle")),1)]),(0,l._)("div",r,(0,o.zw)(e.$t("login.pageTextSubtitle")),1),(0,l.Wm)(q,{class:"q-pt-lg q-mx-auto",style:{"max-width":"400px"},onSubmit:f.login},{default:(0,l.w5)((()=>[(0,l._)("div",u,[(0,l._)("label",d,(0,o.zw)(e.$t("login.formFieldLabelUsername")),1),(0,l.Wm)(w,{id:"name",modelValue:h.name,"onUpdate:modelValue":t[0]||(t[0]=e=>h.name=e),dense:"",filled:"",type:"text",rules:[t=>!!t||e.$t("login.formValidationFieldRequired")]},null,8,["modelValue","rules"])]),(0,l._)("div",m,[(0,l._)("label",c,(0,o.zw)(e.$t("login.formFieldLabelPassword")),1),(0,l.Wm)(w,{id:"password",modelValue:h.password,"onUpdate:modelValue":t[1]||(t[1]=e=>h.password=e),"input-class":"text-primary",dense:"",filled:"",type:"password",autocomplete:"off",autocorrect:"off",autocapitalize:"off",onpaste:"return false",oncopy:"return false",oncut:"return false",rules:[t=>!!t||e.$t("login.formValidationFieldRequired")]},null,8,["modelValue","rules"])]),(0,l._)("div",p,[(0,l.Wm)(b,{color:"primary",type:"submit",push:"","no-caps":"",label:e.$t("login.buttonLabelEnter"),size:"lg",loading:h.loading},null,8,["label","loading"])])])),_:1},8,["onSubmit"])])),_:1})}var h=s(4543);const f={name:"Login",data(){return{loading:!1,name:"",password:"",session:h.z.getSessionManager()}},methods:{async login(){this.loading=!0;const e=await this.session.login(this.name,this.password);e.success?(this.loading=!1,this.redirect()):(this.loading=!1,this.$q.notify({type:"negative",message:this.$t("login.alertLoginFailed"),actions:[{icon:"close",color:"white"}]}))},redirect(){const e=this.$route.query.goTo;"/admin"===e?this.session.isAdmin()?this.$router.push({path:e}):(this.$q.notify({type:"negative",message:this.$t("login.alertHasNoPerms"),actions:[{icon:"close",color:"white"}]}),this.$router.push({name:"home"})):e?this.$router.push({path:e}):this.$router.push({name:"usuario"})}}};var w=s(4260),b=s(4379),q=s(8689),x=s(4689),y=s(8240),$=s(3282),_=s(7518),v=s.n(_);const k=(0,w.Z)(f,[["render",g]]),z=k;v()(f,"components",{QPage:b.Z,QForm:q.Z,QInput:x.Z,QBtn:y.Z,QSpinnerHourglass:$.Z})}}]);