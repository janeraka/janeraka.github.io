"use strict";(self["webpackChunkjanereka_ryru"]=self["webpackChunkjanereka_ryru"]||[]).push([[457],{7457:(e,a,s)=>{s.r(a),s.d(a,{default:()=>W});var t=s(3673),l=s(2323);const i={class:"q-mx-md q-pa-md"},n={class:"text-h4 text-weight-bold text-capitalize"},o={class:"text-caption text-weight-bold text-primary"},d={ref:"adminMediasWrapper"},c={key:0},r={key:1,class:"bg-grey-2 row full-width"},m={class:"full-width bg-white row wrap"},u={class:"custom-tab q-px-lg q-py-sm col-shrink full-height row justify-center bg-grey-2 text-primary text-weight-bold"},h={class:"column justify-between"},g={class:"text-body2 text-weight-medium"},p={class:"row justify-center"};function b(e,a,s,b,w,y){const x=(0,t.up)("q-btn"),_=(0,t.up)("q-icon"),f=(0,t.up)("card-wrapper"),q=(0,t.up)("publish-media"),v=(0,t.up)("q-dialog"),M=(0,t.up)("reject-media"),k=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(k,{class:"q-py-xl q-px-md"},{default:(0,t.w5)((()=>[(0,t._)("div",i,[(0,t._)("div",n,(0,l.zw)(w.username),1),(0,t._)("div",o,(0,l.zw)(e.$t("admin.pageTextAdminLabel")),1),(0,t.Wm)(x,{outline:"",color:"white","text-color":"black",class:"q-mt-lg",type:"submit",label:e.$t("menus.buttonLabelLogout"),onClick:y.logout},null,8,["label","onClick"])]),(0,t._)("div",d,[w.loading?((0,t.wg)(),(0,t.iD)("div",c," Loading... ")):((0,t.wg)(),(0,t.iD)("div",r,[(0,t._)("div",m,[(0,t._)("div",u,[(0,t.Wm)(_,{name:"cloud_upload",size:"sm",class:"q-mr-sm"}),(0,t._)("span",null,(0,l.zw)(e.$t("admin.pageTextSubmissionsLabel")),1)])]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(w.mediaItems,(a=>((0,t.wg)(),(0,t.iD)("div",{ref_for:!0,ref:"adminMediaItemWrapper",key:a.smid,class:"q-mb-xl q-pa-md"},[(0,t.Wm)(f,{card:a,allowMediaEdition:!1,class:"col-12"},null,8,["card"]),(0,t._)("div",h,[(0,t._)("div",{class:(0,l.C_)([e.$q.screen.lt.sm?"q-my-sm":"","q-pa-md bg-grey-4"]),style:{"border-radius":"10px"}},[(0,t._)("span",g,(0,l.zw)(a.descricao),1)],2),(0,t._)("div",p,[(0,t.Wm)(x,{unelevated:"",label:e.$t("admin.buttonLabelAccept"),onClick:e=>{w.selectedMedia=a,w.showPublish=!0},icon:"done",color:"green",class:"q-ma-xs"},null,8,["label","onClick"]),(0,t.Wm)(x,{unelevated:"",label:e.$t("admin.buttonLabelReject"),onClick:e=>{w.selectedMedia=a,w.showReject=!0},icon:"close",color:"negative",class:"q-ma-xs"},null,8,["label","onClick"])])])])))),128)),(0,t.Wm)(v,{modelValue:w.showPublish,"onUpdate:modelValue":a[1]||(a[1]=e=>w.showPublish=e),persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(q,{media:w.selectedMedia,onClosePublishModal:a[0]||(a[0]=e=>w.showPublish=!1)},null,8,["media"])])),_:1},8,["modelValue"]),(0,t.Wm)(v,{modelValue:w.showReject,"onUpdate:modelValue":a[3]||(a[3]=e=>w.showReject=e),persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(M,{media:w.selectedMedia,onCloseRejectModal:a[2]||(a[2]=e=>w.showReject=!1)},null,8,["media"])])),_:1},8,["modelValue"])]))],512)])),_:1})}s(71);var w=s(4543),y=s(1098);const x={name:"Admin",components:{CardWrapper:()=>Promise.all([s.e(736),s.e(64),s.e(793)]).then(s.bind(s,6712)),PublishMedia:()=>Promise.all([s.e(736),s.e(821)]).then(s.bind(s,2821)),RejectMedia:()=>Promise.all([s.e(736),s.e(231)]).then(s.bind(s,5231))},data(){return{session:w.z.getSessionManager(),mediaManager:y.b.getManager(),mediaItems:[],username:"",loading:!1,selectedMedia:null,showPublish:!1,showReject:!1}},async mounted(){await this.getUserData(),this.getAllUnpublishedMedias()},methods:{async getUserData(){const{success:e,userData:a}=await this.session.getAuthenticatedUser();if(e){const{username:e}=a;this.username=e}},async getAllUnpublishedMedias(){this.loading=!0;const e=await this.mediaManager.getAllUnpublishedMedias();e?(this.mediaItems=e,this.loading=!1):(this.mediaItems=[],this.loading=!1,this.$q.notify({type:"negative",message:this.$t("gallery.alertGenericError"),actions:[{icon:"close",color:"white"}]}))},logout(){this.session.logout(),this.$router.push({name:"home"})}}};var _=s(4260),f=s(4379),q=s(8240),v=s(4554),M=s(6778),k=s(7518),j=s.n(k);const C=(0,_.Z)(x,[["render",b],["__scopeId","data-v-69925fa7"]]),W=C;j()(x,"components",{QPage:f.Z,QBtn:q.Z,QIcon:v.Z,QDialog:M.Z})}}]);