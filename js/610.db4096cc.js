"use strict";(self["webpackChunkjanereka_ryru"]=self["webpackChunkjanereka_ryru"]||[]).push([[610],{7610:(e,t,i)=>{i.r(t),i.d(t,{default:()=>S});var a=i(3673),s=i(2323),n=i(8880);const o={class:"text-h6"};function d(e,t,i,d,l,r){const u=(0,a.up)("q-space"),m=(0,a.up)("q-btn"),c=(0,a.up)("q-card-section"),h=(0,a.up)("q-separator"),p=(0,a.up)("q-pdfviewer"),g=(0,a.up)("media-details"),w=(0,a.up)("edit-media"),b=(0,a.up)("media-content-buttons"),f=(0,a.up)("q-card-actions"),y=(0,a.up)("q-card"),q=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(y,{class:"full-width z-max"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{class:"row items-center text-primary"},{default:(0,a.w5)((()=>[(0,a._)("div",o,(0,s.zw)(i.media.titulo),1),(0,a.Wm)(u),(0,a.wy)((0,a.Wm)(m,{icon:"close",flat:"",round:"",dense:""},null,512),[[q]])])),_:1}),(0,a.Wm)(h),(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(p,{value:!0,src:`${l.baseUrl}/acervo/download/${i.media.path}`,type:"pdfjs","content-inner-class":"absolute","content-style":"height: 70vh;"},null,8,["src"])])),_:1}),(0,a.Wm)(c,{class:"q-pt-none q-mb-xl"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(g,{media:i.media},null,8,["media"]),[[n.F8,!l.showEdit]])])),_:1}),i.allowEdition?((0,a.wg)(),(0,a.j4)(c,{key:0,class:"q-pt-none"},{default:(0,a.w5)((()=>[l.showEdit?((0,a.wg)(),(0,a.j4)(w,{key:0,media:i.media,triggerSubmit:l.triggerSubmit,onFinishedSubmission:r.finishSubmit},null,8,["media","triggerSubmit","onFinishedSubmission"])):(0,a.kq)("",!0)])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(f,{align:"right",class:"bg-white text-teal fixed-bottom"},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{editMode:l.showEdit,allowEdition:i.allowEdition,onToggleEditMode:t[0]||(t[0]=e=>l.showEdit=!l.showEdit),onTriggerSubmit:t[1]||(t[1]=e=>l.triggerSubmit=!0),onTriggerDelete:t[2]||(t[2]=e=>r.deleteMedia())},null,8,["editMode","allowEdition"])])),_:1})])),_:1})}i(71);var l=i(1098);const r={name:"ContentsFile",components:{MediaContentButtons:()=>i.e(172).then(i.bind(i,5172)),MediaDetails:()=>i.e(62).then(i.bind(i,2062)),EditMedia:()=>Promise.all([i.e(736),i.e(299)]).then(i.bind(i,4299))},props:{media:{type:Object,required:!0},allowEdition:{type:Boolean,required:!0,default:!1}},data(){return{mediaManager:l.b.getManager(),baseUrl:this.$axios.defaults.baseURL,showEdit:!1,triggerSubmit:!1}},methods:{async deleteMedia(){this.mediaManager.makeMediaObject(this.media.titulo,this.media.descricao,this.media.tags,this.newAuthorname,this.newAldeia,"",this.media.tipo,this.media.path);const e=await this.mediaManager.performMediaDeletion();e?this.$q.notify({type:"positive",message:this.$t("gallery.alertDeleteSuccess"),actions:[{icon:"close",color:"white"}],onDismiss(){location.reload()}}):this.$q.notify({type:"negative",message:this.$t("gallery.alertDeleteFailed"),actions:[{icon:"close",color:"white"}]})},finishSubmit(){this.triggerSubmit=!1,this.showEdit=!1}}};var u=i(4260),m=i(151),c=i(5589),h=i(2025),p=i(8240),g=i(5869),w=i(9367),b=i(677),f=i(7518),y=i.n(f);const q=(0,u.Z)(r,[["render",d]]),S=q;y()(r,"components",{QCard:m.Z,QCardSection:c.Z,QSpace:h.Z,QBtn:p.Z,QSeparator:g.Z,QCardActions:w.Z}),y()(r,"directives",{ClosePopup:b.Z})}}]);