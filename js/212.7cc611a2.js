"use strict";(self["webpackChunkjanereka_ryru"]=self["webpackChunkjanereka_ryru"]||[]).push([[212],{7212:(e,s,t)=>{t.r(s),t.d(s,{default:()=>w});var a=t(3673),i=t(2323);const n={class:"full-width q-pa-md"},o={class:"text-h4 text-weight-bold text-capitalize"};function r(e,s,t,r,l,d){const m=(0,a.up)("q-btn"),c=(0,a.up)("main-table"),g=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(g,{padding:"",class:"row"},{default:(0,a.w5)((()=>[(0,a._)("div",n,[(0,a._)("div",o,(0,i.zw)(l.username),1),(0,a.Wm)(m,{outline:"",color:"white","text-color":"black",class:"q-mt-lg",type:"submit",label:e.$t("menus.buttonLabelLogout"),onClick:d.logout},null,8,["label","onClick"])]),(0,a.Wm)(c,{loading:l.loading,midias:l.mediaItems,viewingFrom:"userArea",allowMediaEdition:!0,onFilterContent:d.filterContent,class:"fit",style:{transition:"0.3s ease"}},null,8,["loading","midias","onFilterContent"])])),_:1})}t(71);var l=t(4543),d=t(1098);const m={name:"Usuario",components:{MainTable:()=>Promise.all([t.e(736),t.e(64),t.e(572)]).then(t.bind(t,1292))},data(){return{session:l.z.getSessionManager(),mediaManager:d.b.getManager(),loading:!1,username:"",mediaItems:[]}},async mounted(){this.loading=!0,await this.getUserData(),this.getUserMedias()},methods:{async getUserData(){const{success:e,userData:s}=await this.session.getAuthenticatedUser();if(e){const{username:e}=s;this.username=e}},async getUserMedias(){this.loading=!0;const e=await this.mediaManager.getMediasFromUser(this.username);e?(this.mediaItems=e,this.loading=!1):(this.mediaItems=[],this.loading=!1,this.$q.notify({type:"negative",message:this.$t("gallery.alertGenericError"),actions:[{icon:"close",color:"white"}]}))},async getUserSubmissions(){this.loading=!0;const e=await this.mediaManager.getSubmissionsFromUser(this.username);e?(this.mediaItems=e,this.loading=!1):(this.mediaItems=[],this.loading=!1,this.$q.notify({type:"negative",message:this.$t("gallery.alertGenericError"),actions:[{icon:"close",color:"white"}]}))},async filterContent(e){switch(e){case"personalMedias":this.getUserMedias();break;case"personalSubmissions":this.getUserSubmissions();break;default:this.getUserMedias();break}},logout(){this.session.logout(),this.$router.push({name:"home"})}}};var c=t(4260),g=t(4379),u=t(8240),h=t(7518),b=t.n(h);const p=(0,c.Z)(m,[["render",r]]),w=p;b()(m,"components",{QPage:g.Z,QBtn:u.Z})}}]);